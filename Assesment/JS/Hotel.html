<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GUEST_REGISTRATION</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <div class="container border mt-3 p-4 bg-dark">
        <form class="row g-3 text-white" id="form">
            <div class="col-md-6">
                <label for="" class="form-label">Full Name</label>
                <input type="text" class="form-control" placeholder="Enter your Full Name" id="nm">
            </div>
            <div class="col-md-6">
                <label for="" class="form-label">Phone Number</label>
                <input type="number" class="form-control" placeholder="Enter your Mobile number" id="mb">
            </div>
            <div class="col-md-6">
                <label for="" class="form-label">Email</label>
                <input type="email" class="form-control" placeholder="Enter your Email" id="em">
            </div>
            <div class="col-md-6">
                <label for="" class="form-label">Address</label>
                <input type="text" class="form-control" placeholder="1234 Main St" id="addr">
            </div>
            <div class="col-md-6">
                <label for="" class="form-label">Aadhar Number</label>
                <input type="number" class="form-control" placeholder="1234 5678 1234" id="an">
            </div>
            <div class="col-md-6">
                <label for="" class="form-label">Purpose of Visit</label>
                <input type="text" class="form-control" id="pv">
            </div>
            <div class="col-md-6">
                <label for="" class="form-label">Check-in-Date :</label>
                <input type="date" class="form-control" id="cin">
                <div id="cin-error" class="text-danger fs-6"></div>
            </div>
            <div class="col-md-6">
                <label for="" class="form-label">Check-out-Date :</label>
                <input type="date" class="form-control" id="cout">
                <div id="cout-error" class="text-danger fs-6"></div>
            </div>
            <div class="col-md-6">
                <label for="" class="form-label">Number of Adults</label>
                <input type="number" class="form-control">
            </div>
            <div class="col-md-6">
                <label for="" class="form-label">Number of Children</label>
                <input type="number" class="form-control">
            </div>
            <div class="col-12">
                <button type="submit" class="btn btn-primary">SAVE</button>
            </div>
        </form>
    </div>

    <script>

        document.getElementById("form").onsubmit = function (event) {
            event.preventDefault()
            // get values
            let nm = document.getElementById("nm")
            let mb = document.getElementById("mb")
            let em = document.getElementById("em")
            let addr = document.getElementById("addr")
            let an = document.getElementById("an")
            let pv = document.getElementById("pv")
            let cin = document.getElementById("cin")
            let cout = document.getElementById("cout")

            // error fields
            let cinErr = document.getElementById("cin-error")
            let coutErr = document.getElementById("cout-error")

            // clear errors 
            cinErr.innerText = "";
            coutErr.innerText = "";

            cin.classList.remove("error");
            cout.classList.remove("error");

            // patterns
            let namePattern = /^[A-Za-z\s]+$/
            let mobilePattern = /^[6-9][0-9]{9}$/
            let emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/
            let aadharPattern = /^[0-9]{12}$/

            let hasError = false

            // fullname
            if (nm.value === "") {
                nm.value = ""
                nm.placeholder = "Name is required"
                nm.classList.add("error")
                hasError = true
            }
            else if (!namePattern.test(nm.value)) {
                nm.value = ""
                nm.placeholder = "Only letters allowed"
                nm.classList.add("error")
                hasError = true
            }

            // mobile number
            if (mb.value === "") {
                mb.value = ""
                mb.placeholder = "Number is requried"
                mb.classList.add("error")
                hasError = true
            }
            else if (!mobilePattern.test(mb.value)) {
                mb.value = ""
                mb.placeholder = "Only numbers are allowed"
                mb.classList.add("error")
                hasError = true
            }

            // email
            if (em.value === "") {
                em.value = ""
                em.placeholder = "Email required"
                em.classList.add("error")
                hasError = true
            }
            else if (!emailPattern.test(em.value)) {
                em.value = ""
                em.placeholder = "xyz@gmail.com"
                em.classList.add("error")
                hasError = true
            }

            // address 
            if (addr.value === "") {
                addr.value = ""
                addr.placeholder = "Address is required"
                addr.classList.add("error")
                hasError = true
            }

            // aadhar number
            if (an.value === "") {
                an.value = ""
                an.placeholder = "Aadhar number required"
                an.classList.add("error")
                hasError = true
            }
            else if (!aadharPattern.test(an.value)) {
                an.value = ""
                an.placeholder = "Only numbers are allowed"
                an.classList.add("error")
                hasError = true
            }

            // purpose of visit
            if (pv.value === "") {
                pv.value = ""
                pv.placeholder = "Must be field"
                pv.classList.add("error")
                hasError = true
            }
            else if (!namePattern.test(pv.value)) {
                pv.value = ""
                pv.placeholder = "Only letters are allowed"
                pv.classList.add("error")
                hasError = true
            }

            // date validation
            if (!cin.value) {
                cinErr.innerText = "Check-in date required"
                cin.classList.add("error")
                hasError = true
            }
            if (!cout.value) {
                coutErr.innerText = "Check-out date required"
                cout.classList.add("error")
                hasError = true
            }
            if (cin.value && cout.value && new Date(cout.value) <= new Date(cin.value)) {
                coutErr.innerText = "Check-out must be after check-in"
                cout.classList.add("error")
                hasError = true
            }


            if (!hasError) {
                alert("Form submitted successfully!")
                document.getElementById("form").reset()
            }
        }


    </script>
</body>

</html>